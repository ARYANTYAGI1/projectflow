import{h as y}from"./user-c789e581.js";import{_ as V}from"./index-b0184b1b.js";import{an as t,au as v,o as u,c,a as n,C as e,y as o,M as C,l as k,D as w,E as f,s as $}from"./@vue-7664832f.js";import"./axios-dd1c8fc2.js";import"./vuex-235c7b47.js";import"./js-cookie-edb2da2a.js";import"./vue-router-627d3bcd.js";import"./element-plus-97d68548.js";import"./lodash-es-2e98bc53.js";import"./@element-plus-7759aa15.js";import"./@popperjs-d53b9d70.js";import"./@ctrl-f8748455.js";import"./dayjs-de1d8cda.js";import"./async-validator-dee29e8b.js";import"./memoize-one-297ddbcb.js";import"./normalize-wheel-es-ed76fb12.js";import"./@floating-ui-10c90328.js";import"./vue-i18n-f00e7388.js";import"./@intlify-ddb89f4e.js";import"./simplebar-vue-88307be6.js";import"./simplebar-core-cc63b2ef.js";import"./metismenujs-584191f1.js";import"./bootstrap-vue-next-01df5512.js";import"./maska-1eacf752.js";import"./moment-aaecb89a.js";const N={page:{title:"Change Password"},data(){return{ruleForm:{oldPassword:"",newPassword:"",confirmPassword:""},loading:!1,password:"password",passwordArr:[],rules:{oldPassword:[{required:!0,message:this.$t("user.pleaseEnterOldPassword"),trigger:"blur"}],newPassword:[{required:!0,message:this.$t("user.pleaseEnterNewPassword"),trigger:"blur"}],confirmPassword:[{required:!0,message:this.$t("user.pleaseEnterConfirmPassword"),trigger:"blur"}]}}},methods:{submitForm(){this.$refs.ruleForm.validate(l=>{if(this.ruleForm.newPassword!==this.ruleForm.confirmPassword)return this.$message.error(this.$t("user.passwordConfirmPasswordDoesNotMatch")),!1;if(l)this.passwordArr={oldPassword:this.ruleForm.oldPassword,newPassword:this.ruleForm.newPassword,confirmPassword:this.ruleForm.newPassword},this.loading=!0,y(this.passwordArr).then(s=>{this.$message({title:"success",message:s.data.message,type:"success"}),this.loading=!1,this.$router.push("/")}).catch(s=>{console.log(s,"change"),this.loading=!1,this.$message.error(s.message)});else return console.log("error submit!!"),!1})}}},D={class:"profile-page mt-3"},E={class:"profile-page container-fluid"},B={class:"text-center d-flex justify-content-center align-items-center"},q={key:0};function A(l,s,U,x,r,_){const i=t("el-input"),d=t("el-form-item"),m=t("el-col"),g=t("el-row"),p=t("el-button"),h=t("router-link"),P=t("el-form"),b=t("el-card"),F=v("loading");return u(),c("div",null,[n("section",D,[n("div",E,[e(b,null,{default:o(()=>[n("div",null,[e(P,{ref:"ruleForm",model:r.ruleForm,rules:r.rules,"label-width":"auto","label-position":"top"},{default:o(()=>[e(g,{gutter:20},{default:o(()=>[e(m,{md:24},{default:o(()=>[e(d,{label:l.$t("company.currentPassword"),prop:"oldPassword"},{default:o(()=>[e(i,{type:"password",modelValue:r.ruleForm.oldPassword,"onUpdate:modelValue":s[0]||(s[0]=a=>r.ruleForm.oldPassword=a),"show-password":""},null,8,["modelValue"])]),_:1},8,["label"])]),_:1}),e(m,{md:24},{default:o(()=>[e(d,{label:l.$t("company.newPassword"),prop:"newPassword"},{default:o(()=>[e(i,{type:"password",modelValue:r.ruleForm.newPassword,"onUpdate:modelValue":s[1]||(s[1]=a=>r.ruleForm.newPassword=a),"show-password":""},null,8,["modelValue"])]),_:1},8,["label"])]),_:1}),e(m,{md:24},{default:o(()=>[e(d,{label:l.$t("company.confirmPassword"),prop:"confirmPassword"},{default:o(()=>[e(i,{type:"password",modelValue:r.ruleForm.confirmPassword,"onUpdate:modelValue":s[2]||(s[2]=a=>r.ruleForm.confirmPassword=a),"show-password":""},null,8,["modelValue"])]),_:1},8,["label"])]),_:1})]),_:1}),n("div",B,[C((u(),k(p,{class:"btn btn-primary",disabled:r.loading,onClick:_.submitForm},{default:o(()=>[w(f(l.$t("company.update"))+" ",1),r.loading?(u(),c("span",q," ...")):$("",!0)]),_:1},8,["disabled","onClick"])),[[F,r.loading]]),e(h,{to:"/",class:"ms-2"},{default:o(()=>[e(p,{class:"btn btn-secondary"},{default:o(()=>[w(f(l.$t("company.cancel")),1)]),_:1})]),_:1})])]),_:1},8,["model","rules"])])]),_:1})])])])}const ne=V(N,[["render",A]]);export{ne as default};
